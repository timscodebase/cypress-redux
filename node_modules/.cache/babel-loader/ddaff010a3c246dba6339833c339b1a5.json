{"ast":null,"code":"import _objectSpread from \"/Users/timothysmith/code/web/cypress-example-recipes/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"/Users/timothysmith/code/web/cypress-example-recipes/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { ADD_TODO, CLEAR_COMPLETED, COMPLETE_ALL_TODOS, COMPLETE_TODO, DELETE_TODO, EDIT_TODO } from '../constants/ActionTypes';\nvar initialState = window.Cypress && window.initialState || [{\n  text: 'Use Redux',\n  completed: false,\n  id: 0\n}];\nexport default function todos() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TODO:\n      return [].concat(_toConsumableArray(state), [{\n        id: state.reduce(function (maxId, todo) {\n          return Math.max(todo.id, maxId);\n        }, -1) + 1,\n        completed: false,\n        text: action.text\n      }]);\n\n    case DELETE_TODO:\n      return state.filter(function (todo) {\n        return todo.id !== action.id;\n      });\n\n    case EDIT_TODO:\n      return state.map(function (todo) {\n        return todo.id === action.id ? _objectSpread({}, todo, {\n          text: action.text\n        }) : todo;\n      });\n\n    case COMPLETE_TODO:\n      return state.map(function (todo) {\n        return todo.id === action.id ? _objectSpread({}, todo, {\n          completed: !todo.completed\n        }) : todo;\n      });\n\n    case COMPLETE_ALL_TODOS:\n      var areAllMarked = state.every(function (todo) {\n        return todo.completed;\n      });\n      return state.map(function (todo) {\n        return _objectSpread({}, todo, {\n          completed: !areAllMarked\n        });\n      });\n\n    case CLEAR_COMPLETED:\n      return state.filter(function (todo) {\n        return todo.completed === false;\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/timothysmith/code/web/cypress-example-recipes/examples/blogs__testing-redux-store/src/reducers/todos.js"],"names":["ADD_TODO","CLEAR_COMPLETED","COMPLETE_ALL_TODOS","COMPLETE_TODO","DELETE_TODO","EDIT_TODO","initialState","window","Cypress","text","completed","id","todos","state","action","type","reduce","maxId","todo","Math","max","filter","map","areAllMarked","every"],"mappings":";;AAAA,SACEA,QADF,EAEEC,eAFF,EAGEC,kBAHF,EAIEC,aAJF,EAKEC,WALF,EAMEC,SANF,QAOO,0BAPP;AASA,IAAMC,YAAY,GAAIC,MAAM,CAACC,OAAP,IAAkBD,MAAM,CAACD,YAA1B,IAA2C,CAC9D;AACEG,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,SAAS,EAAE,KAFb;AAGEC,EAAAA,EAAE,EAAE;AAHN,CAD8D,CAAhE;AAQA,eAAe,SAASC,KAAT,GAA8C;AAAA,MAA9BC,KAA8B,uEAAtBP,YAAsB;AAAA,MAARQ,MAAQ;;AAC3D,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKf,QAAL;AACE,0CACKa,KADL,IAEE;AACEF,QAAAA,EAAE,EAAEE,KAAK,CAACG,MAAN,CAAa,UAACC,KAAD,EAAQC,IAAR;AAAA,iBAAiBC,IAAI,CAACC,GAAL,CAASF,IAAI,CAACP,EAAd,EAAkBM,KAAlB,CAAjB;AAAA,SAAb,EAAwD,CAAC,CAAzD,IAA8D,CADpE;AAEEP,QAAAA,SAAS,EAAE,KAFb;AAGED,QAAAA,IAAI,EAAEK,MAAM,CAACL;AAHf,OAFF;;AASF,SAAKL,WAAL;AACE,aAAOS,KAAK,CAACQ,MAAN,CAAa,UAAAH,IAAI;AAAA,eAAIA,IAAI,CAACP,EAAL,KAAYG,MAAM,CAACH,EAAvB;AAAA,OAAjB,CAAP;;AAEF,SAAKN,SAAL;AACE,aAAOQ,KAAK,CAACS,GAAN,CACL,UAAAJ,IAAI;AAAA,eAAKA,IAAI,CAACP,EAAL,KAAYG,MAAM,CAACH,EAAnB,qBAA6BO,IAA7B;AAAmCT,UAAAA,IAAI,EAAEK,MAAM,CAACL;AAAhD,aAAyDS,IAA9D;AAAA,OADC,CAAP;;AAIF,SAAKf,aAAL;AACE,aAAOU,KAAK,CAACS,GAAN,CACL,UAAAJ,IAAI;AAAA,eACDA,IAAI,CAACP,EAAL,KAAYG,MAAM,CAACH,EAAnB,qBACQO,IADR;AACcR,UAAAA,SAAS,EAAE,CAACQ,IAAI,CAACR;AAD/B,aAEGQ,IAHF;AAAA,OADC,CAAP;;AAOF,SAAKhB,kBAAL;AACE,UAAMqB,YAAY,GAAGV,KAAK,CAACW,KAAN,CAAY,UAAAN,IAAI;AAAA,eAAIA,IAAI,CAACR,SAAT;AAAA,OAAhB,CAArB;AACA,aAAOG,KAAK,CAACS,GAAN,CAAU,UAAAJ,IAAI;AAAA,iCAChBA,IADgB;AAEnBR,UAAAA,SAAS,EAAE,CAACa;AAFO;AAAA,OAAd,CAAP;;AAKF,SAAKtB,eAAL;AACE,aAAOY,KAAK,CAACQ,MAAN,CAAa,UAAAH,IAAI;AAAA,eAAIA,IAAI,CAACR,SAAL,KAAmB,KAAvB;AAAA,OAAjB,CAAP;;AAEF;AACE,aAAOG,KAAP;AAtCJ;AAwCD","sourcesContent":["import {\n  ADD_TODO,\n  CLEAR_COMPLETED,\n  COMPLETE_ALL_TODOS,\n  COMPLETE_TODO,\n  DELETE_TODO,\n  EDIT_TODO\n} from '../constants/ActionTypes'\n\nconst initialState = (window.Cypress && window.initialState) || [\n  {\n    text: 'Use Redux',\n    completed: false,\n    id: 0\n  }\n]\n\nexport default function todos (state = initialState, action) {\n  switch (action.type) {\n    case ADD_TODO:\n      return [\n        ...state,\n        {\n          id: state.reduce((maxId, todo) => Math.max(todo.id, maxId), -1) + 1,\n          completed: false,\n          text: action.text\n        }\n      ]\n\n    case DELETE_TODO:\n      return state.filter(todo => todo.id !== action.id)\n\n    case EDIT_TODO:\n      return state.map(\n        todo => (todo.id === action.id ? { ...todo, text: action.text } : todo)\n      )\n\n    case COMPLETE_TODO:\n      return state.map(\n        todo =>\n          (todo.id === action.id\n            ? { ...todo, completed: !todo.completed }\n            : todo)\n      )\n\n    case COMPLETE_ALL_TODOS:\n      const areAllMarked = state.every(todo => todo.completed)\n      return state.map(todo => ({\n        ...todo,\n        completed: !areAllMarked\n      }))\n\n    case CLEAR_COMPLETED:\n      return state.filter(todo => todo.completed === false)\n\n    default:\n      return state\n  }\n}\n"]},"metadata":{},"sourceType":"module"}